{% extends "index.html" %}
{% block titulo %}Gestión de Llaves{% endblock %}
{% load static %}
{% block estilos %}
{% endblock %}
{% block scripts %}
<script src="{% static 'scripts/newkeys.js' %}"></script>
{% endblock %}
{% block encabezado %}GESTIONAR LLAVES{% endblock %}
{% block contenido %}
<div class="container">
    <div class="text-white">
        <h1>¡Atención {{ username }}!</h1> 
        <p>Al crear nuevas llaves se eliminarán sus llaves anteriores. ¿Estás seguro de continuar?</p>
    </div>
    <form action="/gllaves/" id="formulario" method="POST" class="w-100">
        {% csrf_token %}
        <div class="mb-3 mt-3">
            <label for="passwd" class="text-white">Contraseña:</label>
            <input type="password" name="passwd" id="passwd" class="form-control">
            <div class="valid-feedback">OK</div>
        </div>
	    <div class="col pg-3">
		    <button type="submit" name="generarLlaves" id="generarLlaves" class="btn btn-info">GENERAR NUEVO PAR DE LLAVES</button>
	    </div>
        <div id="box-errors" class="row justify-content-center m-2">
            <div class="col-md-12 text-center">
                
            </div>
        </div>
        {% if errores %}
            <div id="errores" class="alert alert-danger mt-3">
                <strong>Errores:</strong>
                <ul id="lista-errores" class="mb-0">
                    {% for error in errores %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
        {% if confirmacion %}
            <div id="confirmacion" class="alert alert-success mt-3">
                <strong>confirmacion:</strong>
                <ul id="lista-errores" class="mb-0">
                    {% for veri in confirmacion %}
                        <li>{{ veri }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
    </form>
</div>  
{% endblock %}